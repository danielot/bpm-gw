########################################
#  This file was generated by hdlmake  #
#  http://ohwr.org/projects/hdl-make/  #
########################################

PROJECT := dbe_bpm2
VIVADO_CRAP := run.tcl

#target for performing local synthesis
local: syn_pre_cmd check_tool synthesis syn_post_cmd

synthesis:
		echo "open_project $(PROJECT).xpr" > run.tcl
		echo "reset_run synth_1" >> run.tcl
		echo "reset_run impl_1" >> run.tcl
		echo "launch_runs synth_1" >> run.tcl
		echo "wait_on_run synth_1" >> run.tcl
		echo "launch_runs impl_1" >> run.tcl
		echo "wait_on_run impl_1" >> run.tcl
		echo "launch_runs impl_1 -to_step write_bitstream" >> run.tcl
		echo "wait_on_run impl_1" >> run.tcl
		echo "exit" >> run.tcl
		/opt/Xilinx/Vivado/2015.2/bin/vivado -mode tcl -source run.tcl
		cp $(PROJECT).runs/impl_1/dbe_bpm2.bit dbe_bpm2.bit

check_tool:
		

syn_post_cmd:
		

syn_pre_cmd:
		

#target for cleaning all intermediate stuff
clean:
		rm -f $(PLANAHEAD_CRAP)
		rm -rf .Xil $(PROJECT).cache $(PROJECT).data $(PROJECT).runs $(PROJECT).xpr

#target for cleaning final files
mrproper:
		rm -f *.bit

.PHONY: mrproper clean syn_pre_cmd syn_post_cmd synthesis local check_tool

